## 局域网工作机制和网络地址配置

```bash
# 查看系统网卡信息
ifconfig
ifdown
ifup
# 查看无线连接情况
iwconfig
# 扫描无线网
iwlist 网卡名 scanning | grep ESSID
# 配置链接
iwpriv 网卡名 set key=value
# 连接网络
iwpriv 网卡名 set SSID=wifi-name  
iwconfig 网卡名 essid wifi-name  
# 重启网络服务
sudo service networking restart
# 重启网络配置
sudo /etc/init.d/networking restart
sudo service network-manager restart
# 查看网卡的硬件信息
lshw -class network
# 激活网卡
sudo ifconfig 网卡设备名 up
# 查看网卡设备信息
lspci | grep -i net
# 打开硬件开关
rfkill list all
# 查看网卡驱动是否加载
lsmod
# 加载网卡驱动
modprobe
# 开启网络管理器
service NetworkManager start
nslookup
# 查看dns
nslookup server
hostname
```

- 局域网络 (Local Area Network, LAN)
  - 以太网络Ethernet
  - MAC (Media Access Control)
- 广域网 (Wide Area Network, WAN)
  - ADSL 调制解调器
- OSI 七层协议 (Open System Interconnection)
- TCP/IP
- 路由

### IP地址

IP (InternetProtocol)

```bash
ifconfig
# 关闭网卡
ifconfig netname down
# 启动网卡
ifconfig netname up
ifdown netname
ifup netname
iwconfig
ping ip
ping -c次数 ip
```

### NETMASK

子网掩码：用来判断自己属于那个网段，255.255.255.0

网段的计算：IP地址的二进制 & 子网掩码的二进制 = 网段地址

192.168.33.2 & 255.255.255.0 = 192.168.33.0

### GATEWAY

网关，就是网络的总出口，也就是路由器的地址，路由器/交换机就是一个网关

```bash
route -n
# 配置网关
route add des gw ip
route add des gw ip dev 网卡名
# 删除网关
route del des gw ip
```

### DNS

域名解析服务器，就是解析域名成对应的ip地址
填网关地址即可

www.google.com 是主机名，google.com是域名

```bash
# nameserver 192.168.1.1
sudo gedit /etc/resolvconf/resolv.conf.d/base 
```

### hosts文件

配置域名ip映射，ip地址和对应的主机名

## 网络配置
网卡的配置文件/etc/network/interfaces
DNS配置文件/etc/resolvconf/resolv.conf.d/base
```
auto eth0
iface eth0 inet static
address 192.168.1.100
netmask 255.255.255.0
gateway 192.168.1.1
```
命令配置网络
```bash
# 修改网卡IP和子网掩码
sudo ifconfig eth0 192.168.1.1 netmask 255.255.255.0

# 查看网关
route -n
# 修改网关
sudo route add default gw 192.168.0.1

sudo stop network-manager
sudo start network-manager
```